/**
 * Application Configuration
 * Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖò Ï†ÑÏó≠ ÏÑ§Ï†ï
 */

const CONFIG = {
    // Í∏∞Î≥∏ ÏÑ§Ï†ï
    app: {
        name: 'junetapa - Creative Developer Portal',
        version: '1.0.0',
        description: 'ÌÅ¨Î¶¨ÏóêÏù¥Ìã∞Î∏å Í∞úÎ∞úÏûê Ìè¨ÌÑ∏ - Ïõπ Í∞úÎ∞ú, ÏùåÏïÖ ÏûëÍ≥°, Ï∞ΩÏûë ÌôúÎèôÏùÑ ÏÜåÍ∞úÌï©ÎãàÎã§',
        author: 'junetapa',
        url: 'https://junetapa.info'
    },

    // API ÏÑ§Ï†ï
    api: {
        baseUrl: 'https://api.junetapa.info',
        timeout: 10000,
        retries: 3
    },

    // ÏùåÏïÖ ÌîåÎ†àÏù¥Ïñ¥ ÏÑ§Ï†ï
    musicPlayer: {
        autoplay: false,
        loop: false,
        shuffle: false,
        volume: 0.7,
        fadeIn: 500,
        fadeOut: 500,
        equalizer: {
            enabled: true,
            bars: 4,
            animationSpeed: 1200
        }
    },

    // Ïï†ÎãàÎ©îÏù¥ÏÖò ÏÑ§Ï†ï
    animations: {
        enabled: true,
        duration: {
            fast: 150,
            normal: 300,
            slow: 500
        },
        easing: {
            ease: 'ease-in-out',
            bounce: 'cubic-bezier(0.68, -0.55, 0.265, 1.55)',
            elastic: 'cubic-bezier(0.175, 0.885, 0.32, 1.275)'
        },
        scroll: {
            threshold: 0.1,
            rootMargin: '0px 0px -100px 0px'
        }
    },

    // Í≤ÄÏÉâ ÏÑ§Ï†ï
    search: {
        debounce: 300,
        minLength: 2,
        maxResults: 10,
        highlight: true
    },

    // ÌÖåÎßà ÏÑ§Ï†ï
    theme: {
        default: 'light',
        options: ['light', 'dark', 'auto'],
        transition: 300
    },

    // Ïñ∏Ïñ¥ ÏÑ§Ï†ï
    language: {
        default: 'ko',
        options: [
            { code: 'ko', name: 'ÌïúÍµ≠Ïñ¥', flag: 'üá∞üá∑' },
            { code: 'en', name: 'English', flag: 'üá∫üá∏' }
        ]
    },

    // ÏÜåÏÖú ÎØ∏ÎîîÏñ¥ ÎßÅÌÅ¨
    social: {
        github: 'https://github.com/junetapa',
        linkedin: 'https://linkedin.com/in/junetapa',
        youtube: 'https://youtube.com/@junetapa',
        instagram: 'https://instagram.com/junetapa',
        twitter: 'https://twitter.com/junetapa',
        spotify: 'https://open.spotify.com/artist/junetapa'
    },

    // Ïó∞ÎùΩÏ≤ò Ï†ïÎ≥¥
    contact: {
        email: 'jun22sky@nate.com',
        phone: '+82-10-1234-5678',
        address: 'Ïù∏Ï≤úÍ¥ëÏó≠Ïãú Î∂ÄÌèâÍµ¨',
        businessHours: 'Ïõî-Í∏à 9:00-18:00'
    },

    // ÌîÑÎ°úÏ†ùÌä∏ ÌÜµÍ≥Ñ
    stats: {
        completedProjects: 42,
        yearsOfExperience: 5,
        technologies: 15,
        clients: 25
    },

    // ÏùåÏïÖ Ìä∏Îûô Ï†ïÎ≥¥
    tracks: [
        {
            id: 1,
            title: 'Ìè≠Ïóº ÏÜç Î∂àÍΩÉ',
            artist: 'ÎßåÏàòÎèô Í≥†ÏñëÏù¥',
            album: 'Ïó¨Î¶Ñ Ïù¥ÏïºÍ∏∞',
            duration: 200,
            src: './assets/audio/3. Ìè≠Ïóº ÏÜç Î∂àÍΩÉ.mp3',
            cover: './assets/images/al.png',
            genre: 'Instrumental',
            year: 2024
        }
    ],

    // ÌîÑÎ°úÏ†ùÌä∏ Îç∞Ïù¥ÌÑ∞
    projects: [
        {
            id: 1,
            title: 'E-Commerce Platform',
            description: 'React + Node.js Í∏∞Î∞ò ÏáºÌïëÎ™∞',
            category: 'web',
            status: 'active',
            progress: 75,
            technologies: ['React', 'Node.js', 'MongoDB', 'Stripe'],
            image: './assets/images/profile.jpg',
            url: 'https://project1.com',
            github: 'https://github.com/junetapa/project1'
        },
        {
            id: 2,
            title: 'Music Streaming App',
            description: 'Í∞úÏù∏ ÏùåÏïÖ Ïä§Ìä∏Î¶¨Î∞ç ÏÑúÎπÑÏä§',
            category: 'mobile',
            status: 'planning',
            progress: 25,
            technologies: ['React Native', 'Firebase', 'Spotify API'],
            image: './assets/images/profile.jpg',
            url: null,
            github: 'https://github.com/junetapa/project2'
        }
    ],

    // Î∏îÎ°úÍ∑∏ Ìè¨Ïä§Ìä∏
    blogPosts: [
        {
            id: 1,
            title: 'React Hooks ÏôÑÎ≤Ω Í∞ÄÏù¥Îìú',
            excerpt: 'useState, useEffectÎ∂ÄÌÑ∞ Ïª§Ïä§ÌÖÄ ÌõÖÍπåÏßÄ...',
            category: 'frontend',
            tags: ['React', 'JavaScript', 'Hooks'],
            author: 'junetapa',
            date: '2024-03-14',
            readTime: 5,
            image: './assets/images/blog/react-hooks.jpg',
            url: '/blog/react-hooks-guide'
        }
    ],

    // ÌäúÌÜ†Î¶¨Ïñº
    tutorials: [
        {
            id: 1,
            title: 'JavaScript Í∏∞Ï¥àÎ∂ÄÌÑ∞ Ïã¨ÌôîÍπåÏßÄ',
            description: 'JavaScriptÏùò ÌïµÏã¨ Í∞úÎÖêÎì§ÏùÑ Îã®Í≥ÑÎ≥ÑÎ°ú ÌïôÏäµ',
            category: 'programming',
            level: 'beginner',
            duration: 45,
            image: './assets/images/tutorials/js-basics.jpg',
            url: '/tutorials/javascript-basics'
        }
    ],

    // Í≥µÏßÄÏÇ¨Ìï≠
    announcements: [
        {
            id: 1,
            title: 'üöÄ Ïã†Í∑ú Ïõπ ÌîåÎû´Ìèº Îü∞Ïπ≠ Î∞è ÌòëÏóÖ ÌååÌä∏ÎÑà Î™®Ïßë ÏïàÎÇ¥',
            summary: 'ÌòÅÏã†Ï†ÅÏù∏ Ïõπ ÌîåÎû´Ìèº Í∞úÎ∞úÏùÑ ÏúÑÌïú ÌåÄÏõêÏùÑ Î™®ÏßëÌï©ÎãàÎã§. React Í∏∞Î∞òÏùò ÏµúÏã† Í∏∞Ïà† Ïä§ÌÉùÏùÑ ÌôúÏö©Ìïú...',
            category: 'development',
            priority: 'high',
            date: '2024-03-15',
            views: 1247,
            url: '/announcements/new-platform-launch'
        },
        {
            id: 2,
            title: 'Í∞úÏù∏ Ìè¨Ìä∏Ìè¥Î¶¨Ïò§ ÏÇ¨Ïù¥Ìä∏ Î¶¨Îâ¥Ïñº ÏôÑÎ£å ÏïàÎÇ¥',
            summary: '',
            category: 'update',
            priority: 'normal',
            date: '2024-03-12',
            views: 856,
            url: '/announcements/portfolio-renewal'
        }
    ],

    // Ïπ¥ÌÖåÍ≥†Î¶¨ Ï†ïÎ≥¥
    categories: {
        web: {
            name: 'Ïõπ Í∞úÎ∞ú',
            icon: 'fas fa-code',
            color: '#3b82f6',
            description: 'ÌîÑÎ°†Ìä∏ÏóîÎìú, Î∞±ÏóîÎìú, ÌíÄÏä§ÌÉù Ïõπ Í∞úÎ∞ú ÌîÑÎ°úÏ†ùÌä∏'
        },
        music: {
            name: 'ÏùåÏïÖ Ï†úÏûë',
            icon: 'fas fa-music',
            color: '#8b5cf6',
            description: 'Í≥° ÏûëÍ≥°, Ìé∏Í≥°, ÎØπÏã± Î∞è ÏùåÏïÖ Ï†úÏûë ÏûëÏóÖ'
        },
        design: {
            name: 'ÎîîÏûêÏù∏',
            icon: 'fas fa-palette',
            color: '#f59e0b',
            description: 'UI/UX ÎîîÏûêÏù∏, Í∑∏ÎûòÌîΩ ÎîîÏûêÏù∏, Î∏åÎûúÎî©'
        }
    },

    // Í≤ÄÏÉâ Ï†úÏïàÏñ¥
    searchSuggestions: [
        'React', 'JavaScript', 'ÏùåÏïÖÏûëÍ≥°', 'ÏõπÎîîÏûêÏù∏',
        'Node.js', 'TypeScript', 'UI/UX', 'Ìè¨Ìä∏Ìè¥Î¶¨Ïò§',
        'ÌîÑÎ°†Ìä∏ÏóîÎìú', 'Î∞±ÏóîÎìú', 'Î™®Î∞îÏùºÏï±', 'ÌîÑÎ°úÏ†ùÌä∏'
    ],

    // ÏÑ±Îä• ÏÑ§Ï†ï
    performance: {
        lazyLoading: true,
        imageOptimization: true,
        codeSplitting: true,
        caching: {
            enabled: true,
            duration: 86400 // 24ÏãúÍ∞Ñ
        }
    },

    // Ï†ëÍ∑ºÏÑ± ÏÑ§Ï†ï
    accessibility: {
        skipLinks: true,
        focusIndicators: true,
        keyboardNavigation: true,
        screenReader: true,
        highContrast: false,
        reducedMotion: false
    },

    // Î∂ÑÏÑù ÏÑ§Ï†ï
    analytics: {
        enabled: true,
        googleAnalytics: {
            trackingId: 'GA_TRACKING_ID'
        },
        hotjar: {
            siteId: 'HOTJAR_SITE_ID'
        }
    },

    // Î≥¥Ïïà ÏÑ§Ï†ï
    security: {
        csp: {
            enabled: true,
            directives: {
                'default-src': ["'self'"],
                'script-src': ["'self'", "'unsafe-inline'", 'https://cdnjs.cloudflare.com'],
                'style-src': ["'self'", "'unsafe-inline'", 'https://fonts.googleapis.com', 'https://cdnjs.cloudflare.com'],
                'font-src': ["'self'", 'https://fonts.gstatic.com'],
                'img-src': ["'self'", 'data:', 'https:'],
                'connect-src': ["'self'", 'https://api.yoursite.com']
            }
        },
        hsts: {
            enabled: true,
            maxAge: 31536000
        }
    },

    // Í∞úÎ∞ú ÏÑ§Ï†ï
    development: {
        debug: false,
        logLevel: 'info',
        hotReload: true,
        sourceMaps: true
    }
};

// ÌôòÍ≤ΩÎ≥Ñ ÏÑ§Ï†ï
const ENV = {
    development: {
        ...CONFIG,
        api: {
            ...CONFIG.api,
            baseUrl: 'http://localhost:3000/api'
        },
        development: {
            ...CONFIG.development,
            debug: true,
            logLevel: 'debug'
        }
    },
    production: {
        ...CONFIG,
        performance: {
            ...CONFIG.performance,
            lazyLoading: true,
            imageOptimization: true,
            codeSplitting: true
        },
        development: {
            ...CONFIG.development,
            debug: false,
            logLevel: 'error'
        }
    }
};

// ÌòÑÏû¨ ÌôòÍ≤Ω Í∞êÏßÄ
const getCurrentEnv = () => {
    if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {
        return 'development';
    }
    return 'production';
};

// ÌòÑÏû¨ ÌôòÍ≤ΩÏùò ÏÑ§Ï†ï Î∞òÌôò
const getConfig = () => {
    const currentEnv = getCurrentEnv();
    return ENV[currentEnv] || CONFIG;
};

// ÏÑ§Ï†ï Ïú†Ìö®ÏÑ± Í≤ÄÏÇ¨
const validateConfig = (config) => {
    const required = ['app', 'api', 'theme', 'language'];
    const missing = required.filter(key => !config[key]);
    
    if (missing.length > 0) {
        console.warn('Missing required config keys:', missing);
        return false;
    }
    
    return true;
};

// ÏÑ§Ï†ï Ï¥àÍ∏∞Ìôî
const initConfig = () => {
    const config = getConfig();
    
    if (!validateConfig(config)) {
        console.error('Invalid configuration');
        return null;
    }
    
    // Ï†ÑÏó≠ ÏÑ§Ï†ï Í∞ùÏ≤¥Î°ú ÏÑ§Ï†ï
    window.APP_CONFIG = config;
    
    // Î©îÌÉÄ ÌÉúÍ∑∏ ÏóÖÎç∞Ïù¥Ìä∏
    updateMetaTags(config);
    
    // CSP ÏÑ§Ï†ï Ï†ÅÏö©
    if (config.security.csp.enabled) {
        applyCSP(config.security.csp.directives);
    }
    
    console.log('Configuration loaded:', config.app.name, 'v' + config.app.version);
    return config;
};

// Î©îÌÉÄ ÌÉúÍ∑∏ ÏóÖÎç∞Ïù¥Ìä∏
const updateMetaTags = (config) => {
    const metaTags = {
        'description': config.app.description,
        'author': config.app.author,
        'og:title': config.app.name,
        'og:description': config.app.description,
        'og:url': config.app.url,
        'twitter:title': config.app.name,
        'twitter:description': config.app.description
    };
    
    Object.entries(metaTags).forEach(([name, content]) => {
        const meta = document.querySelector(`meta[name="${name}"], meta[property="${name}"]`);
        if (meta) {
            meta.setAttribute('content', content);
        }
    });
};

// CSP ÏÑ§Ï†ï Ï†ÅÏö©
const applyCSP = (directives) => {
    const cspString = Object.entries(directives)
        .map(([key, values]) => `${key} ${values.join(' ')}`)
        .join('; ');
    
    const meta = document.createElement('meta');
    meta.httpEquiv = 'Content-Security-Policy';
    meta.content = cspString;
    document.head.appendChild(meta);
};

// ÏÑ§Ï†ï ÎÇ¥Î≥¥ÎÇ¥Í∏∞
window.CONFIG = {
    get: getConfig,
    init: initConfig,
    validate: validateConfig,
    env: getCurrentEnv
};

// ÏûêÎèô Ï¥àÍ∏∞Ìôî
document.addEventListener('DOMContentLoaded', () => {
    initConfig();
});